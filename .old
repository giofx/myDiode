/*     case "A":
        const listennic = net.checkNIC( args["in"] );    
        const transmitnic = net.checkNIC( args["out"] );
        const A = require("./Aside")
        console.log( "Starting A side")
        A.run( listennic.IP, HTTP_PORT, transmitnic.IPbcast, UDP_PORT)
        
    break; */

    case "A":
    {
        const listennic = net.checkNIC( args["in"] );    
        const transmitnic = net.checkNIC( args["out"] );
        const A = require("./protocols/module_https")
        console.log( "Starting A side")
  
        A.events.on("message", message => A.send( message ) )
        A.listen( listennic.IP, HTTP_PORT)
    }
    break;

    case "B":
    {
        const IPb = net.checkNIC( args["in"]) 
        const B = require("./Bside")
        console.log( "Starting B side")
        const IP = process.platform === "win32" ? IPb.IP : IPb.IPbcast;
        B.run( IP , UDP_PORT, DESTINATION )
    }
    break;








    case "B":
    {
        const udp = require("./protocols/module_udp");

        const IP = process.platform === "win32" ? listenNic.IP : listenNic.IPbcast;

        protocols.filter( name => name.includes(".js")).forEach( name =>
        {
            const protocol = require("./protocols/" + name)

            if( protocol.clientServer )
            {
                udp.events.on( protocol.defaultPort , message => protocol.send(message))
            }
            else
            {
                protocol.send( udp.events )
            }
            udp.listen(IP, protocol.defaultPort)
        });
    }
    break;
